!function(){function e(t,r){function p(){return c=t.charAt(++h),c||""}function v(e){var r="",i=h;return e&&g(),r=t.charAt(h+1)||"",h=i-1,p(),r}function _(e){for(var r=h;p();)if("\\"===c)p();else{if(-1!==e.indexOf(c))break;if("\n"===c)break}return t.substring(r,h+1)}function m(e){var t=h,r=_(e);return h=t-1,p(),r}function g(){for(var e="";l.test(v());)p(),e+=c;return e}function w(){var e="";for(c&&l.test(c)&&(e=c);l.test(p());)e+=c;return e}function b(e){var r=h;for(e="/"===v(),p();p();){if(!e&&"*"===c&&"/"===v()){p();break}if(e&&"\n"===c)return t.substring(r,h)}return t.substring(r,h)+c}function y(e){return t.substring(h-e.length,h).toLowerCase()===e}function k(){for(var e=0,r=h+1;r<t.length;r++){var i=t.charAt(r);if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0===e)return!1;e-=1}else if(";"===i||"}"===i)return!1}return!1}function C(){A++,x+=S}function z(){A--,x=x.slice(0,-i)}r=r||{},t=t||"",t=t.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var i=r.indent_size||4,n=r.indent_char||" ",a=void 0===r.selector_separator_newline?!0:r.selector_separator_newline,s=void 0===r.end_with_newline?!1:r.end_with_newline,o=void 0===r.newline_between_rules?!0:r.newline_between_rules,f=void 0===r.space_around_selector_separator?!1:r.space_around_selector_separator,u=r.eol?r.eol:"\n";"string"==typeof i&&(i=parseInt(i,10)),r.indent_with_tabs&&(n="	",i=1),u=u.replace(/\\r/,"\r").replace(/\\n/,"\n");var c,l=/^\s+$/,h=-1,d=0,x=t.match(/^[\t ]*/)[0],S=new Array(i+1).join(n),A=0,E=0,T={};T["{"]=function(e){T.singleSpace(),O.push(e),T.newLine()},T["}"]=function(e){T.newLine(),O.push(e),T.newLine()},T._lastCharWhitespace=function(){return l.test(O[O.length-1])},T.newLine=function(e){O.length&&(e||"\n"===O[O.length-1]||T.trim(),O.push("\n"),x&&O.push(x))},T.singleSpace=function(){O.length&&!T._lastCharWhitespace()&&O.push(" ")},T.preserveSingleSpace=function(){U&&T.singleSpace()},T.trim=function(){for(;T._lastCharWhitespace();)O.pop()};for(var O=[],I=!1,R=!1,B=!1,N="",D="";;){var L=w(),U=""!==L,F=-1!==L.indexOf("\n");if(D=N,N=c,!c)break;if("/"===c&&"*"===v()){var P=0===A;(F||P)&&T.newLine(),O.push(b()),T.newLine(),P&&T.newLine(!0)}else if("/"===c&&"/"===v())F||"{"===D||T.trim(),T.singleSpace(),O.push(b()),T.newLine();else if("@"===c)if(T.preserveSingleSpace(),"{"===v())O.push(_("}"));else{O.push(c);var j=m(": ,;{}()[]/='\"");j.match(/[ :]$/)&&(p(),j=_(": ").replace(/\s$/,""),O.push(j),T.singleSpace()),j=j.replace(/\s$/,""),j in e.NESTED_AT_RULE&&(E+=1,j in e.CONDITIONAL_GROUP_RULE&&(B=!0))}else"#"===c&&"{"===v()?(T.preserveSingleSpace(),O.push(_("}"))):"{"===c?"}"===v(!0)?(g(),p(),T.singleSpace(),O.push("{}"),T.newLine(),o&&0===A&&T.newLine(!0)):(C(),T["{"](c),B?(B=!1,I=A>E):I=A>=E):"}"===c?(z(),T["}"](c),I=!1,R=!1,E&&E--,o&&0===A&&T.newLine(!0)):":"===c?(g(),!I&&!B||y("&")||k()?":"===v()?(p(),O.push("::")):O.push(":"):(R=!0,O.push(":"),T.singleSpace())):'"'===c||"'"===c?(T.preserveSingleSpace(),O.push(_(c))):";"===c?(R=!1,O.push(c),T.newLine()):"("===c?y("url")?(O.push(c),g(),p()&&(")"!==c&&'"'!==c&&"'"!==c?O.push(_(")")):h--)):(d++,T.preserveSingleSpace(),O.push(c),g()):")"===c?(O.push(c),d--):","===c?(O.push(c),g(),a&&!R&&1>d?T.newLine():T.singleSpace()):">"===c||"+"===c||"~"===c?f&&!R&&1>d?(T.singleSpace(),O.push(c),T.singleSpace()):O.push(c):"]"===c?O.push(c):"["===c?(T.preserveSingleSpace(),O.push(c)):"="===c?(g(),c="=",O.push(c)):(T.preserveSingleSpace(),O.push(c))}var W="";return x&&(W+=x),W+=O.join("").replace(/[\r\n\t ]+$/,""),s&&(W+="\n"),"\n"!==u&&(W=W.replace(/[\n]/g,u)),W}e.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},e.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},"function"==typeof define&&define.amd?define([],function(){return{css_beautify:e}}):"undefined"!=typeof exports?exports.css_beautify=e:"undefined"!=typeof window?window.css_beautify=e:"undefined"!=typeof global&&(global.css_beautify=e)}();
