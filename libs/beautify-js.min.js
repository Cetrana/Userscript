Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var r,t=[];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(e[r]);return t}),function(){function e(e,t){function i(e,t){for(var r=0;r<t.length;r+=1)if(t[r]===e)return!0;return!1}function n(e){return e.replace(/^\s+|\s+$/g,"")}function a(e){return e.replace(/^\s+/g,"")}function s(e){e=e||o.before_newline;var t=Object.values(o);if(!i(e,t))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+t+"\nYou passed in: '"+e+"'");return e}function u(e,t){"use strict";function A(e,t){var r=0;e&&(r=e.indentation_level,!u.just_added_newline()&&e.line_indent_level>r&&(r=e.line_indent_level));var i={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:r,line_indent_level:e?e.line_indent_level:r,start_line_index:u.get_line_number(),ternary_depth:0};return i}function O(e){var t=e.newlines,r=T.keep_array_indentation&&U(b.mode);if(r)for(var i=0;t>i;i+=1)D(i>0);else if(T.max_preserve_newlines&&t>T.max_preserve_newlines&&(t=T.max_preserve_newlines),T.preserve_newlines&&e.newlines>1){D();for(var n=1;t>n;n+=1)D(!0)}v=e,E[v.type]()}function C(e){e=e.replace(r.allLineBreaks,"\n");for(var t=[],i=e.indexOf("\n");-1!==i;)t.push(e.substring(0,i)),e=e.substring(i+1),i=e.indexOf("\n");return e.length&&t.push(e),t}function I(e){if(e=void 0===e?!1:e,!u.just_added_newline()){var t=T.preserve_newlines&&v.wanted_newline||e,r=i(b.last_text,p.positionable_operators)||i(v.text,p.positionable_operators);if(r){var n=i(b.last_text,p.positionable_operators)&&i(T.operator_position,f)||i(v.text,p.positionable_operators);t=t&&n}if(t)D(!1,!0);else if(T.wrap_line_length){if("TK_RESERVED"===m&&i(b.last_text,z))return;var a=u.current_line.get_character_count()+v.text.length+(u.space_before_token?1:0);a>=T.wrap_line_length&&D(!1,!0)}}}function D(e,t){if(!t&&";"!==b.last_text&&","!==b.last_text&&"="!==b.last_text&&"TK_OPERATOR"!==m)for(;b.mode===l.Statement&&!b.if_block&&!b.do_block;)j();u.add_new_line(e)&&(b.multiline_frame=!0)}function K(){u.just_added_newline()&&(T.keep_array_indentation&&U(b.mode)&&v.wanted_newline?(u.current_line.push(v.whitespace_before),u.space_before_token=!1):u.set_indent(b.indentation_level)&&(b.line_indent_level=b.indentation_level))}function N(e){if(u.raw)return void u.add_raw_token(v);if(T.comma_first&&"TK_COMMA"===m&&u.just_added_newline()&&","===u.previous_line.last()){var t=u.previous_line.pop();u.previous_line.is_empty()&&(u.previous_line.push(t),u.trim(!0),u.current_line.pop(),u.trim()),K(),u.add_token(","),u.space_before_token=!0}e=e||v.text,K(),u.add_token(e)}function B(){b.indentation_level+=1}function L(){b.indentation_level>0&&(!b.parent||b.indentation_level>b.parent.indentation_level)&&(b.indentation_level-=1)}function P(e){b?(k.push(b),y=b):y=A(null,e),b=A(y,e)}function U(e){return e===l.ArrayLiteral}function F(e){return i(e,[l.Expression,l.ForInitializer,l.Conditional])}function j(){k.length>0&&(y=b,b=k.pop(),y.mode===l.Statement&&u.remove_redundant_indentation(y))}function W(){return b.parent.mode===l.ObjectLiteral&&b.mode===l.Statement&&(":"===b.last_text&&0===b.ternary_depth||"TK_RESERVED"===m&&i(b.last_text,["get","set"]))}function M(){return"TK_RESERVED"===m&&i(b.last_text,["var","let","const"])&&"TK_WORD"===v.type||"TK_RESERVED"===m&&"do"===b.last_text||"TK_RESERVED"===m&&i(b.last_text,["return","throw"])&&!v.wanted_newline||"TK_RESERVED"===m&&"else"===b.last_text&&("TK_RESERVED"!==v.type||"if"!==v.text)||"TK_END_EXPR"===m&&(y.mode===l.ForInitializer||y.mode===l.Conditional)||"TK_WORD"===m&&b.mode===l.BlockStatement&&!b.in_case&&"--"!==v.text&&"++"!==v.text&&"function"!==g&&"TK_WORD"!==v.type&&"TK_RESERVED"!==v.type||b.mode===l.ObjectLiteral&&(":"===b.last_text&&0===b.ternary_depth||"TK_RESERVED"===m&&i(b.last_text,["get","set"]))?(P(l.Statement),B(),"TK_RESERVED"===m&&i(b.last_text,["var","let","const"])&&"TK_WORD"===v.type&&(b.declaration_statement=!0),W()||I("TK_RESERVED"===v.type&&i(v.text,["do","for","if","while"])),!0):!1}function Z(e,t){for(var r=0;r<e.length;r++){var i=n(e[r]);if(i.charAt(0)!==t)return!1}return!0}function V(e,t){for(var n,r=0,i=e.length;i>r;r++)if(n=e[r],n&&0!==n.indexOf(t))return!1;return!0}function G(e){return i(e,["case","return","do","if","throw","else"])}function H(e){var t=d+(e||0);return 0>t||t>=h.length?null:h[t]}function X(){M();var e=l.Expression;if("["===v.text){if("TK_WORD"===m||")"===b.last_text)return"TK_RESERVED"===m&&i(b.last_text,p.line_starters)&&(u.space_before_token=!0),P(e),N(),B(),void(T.space_in_paren&&(u.space_before_token=!0));e=l.ArrayLiteral,U(b.mode)&&("["===b.last_text||","===b.last_text&&("]"===g||"}"===g))&&(T.keep_array_indentation||D())}else"TK_RESERVED"===m&&"for"===b.last_text?e=l.ForInitializer:"TK_RESERVED"===m&&i(b.last_text,["if","while"])&&(e=l.Conditional);";"===b.last_text||"TK_START_BLOCK"===m?D():"TK_END_EXPR"===m||"TK_START_EXPR"===m||"TK_END_BLOCK"===m||"."===b.last_text?I(v.wanted_newline):"TK_RESERVED"===m&&"("===v.text||"TK_WORD"===m||"TK_OPERATOR"===m?"TK_RESERVED"===m&&("function"===b.last_word||"typeof"===b.last_word)||"*"===b.last_text&&"function"===g?T.space_after_anon_function&&(u.space_before_token=!0):"TK_RESERVED"!==m||!i(b.last_text,p.line_starters)&&"catch"!==b.last_text||T.space_before_conditional&&(u.space_before_token=!0):u.space_before_token=!0,"("===v.text&&"TK_RESERVED"===m&&"await"===b.last_word&&(u.space_before_token=!0),"("===v.text&&("TK_EQUALS"===m||"TK_OPERATOR"===m)&&(W()||I()),"("===v.text&&"TK_WORD"!==m&&"TK_RESERVED"!==m&&I(),P(e),N(),T.space_in_paren&&(u.space_before_token=!0),B()}function Y(){for(;b.mode===l.Statement;)j();b.multiline_frame&&I("]"===v.text&&U(b.mode)&&!T.keep_array_indentation),T.space_in_paren&&("TK_START_EXPR"!==m||T.space_in_empty_paren?u.space_before_token=!0:(u.trim(),u.space_before_token=!1)),"]"===v.text&&T.keep_array_indentation?(N(),j()):(j(),N()),u.remove_redundant_indentation(y),b.do_while&&y.mode===l.Conditional&&(y.mode=l.Expression,b.do_block=!1,b.do_while=!1)}function $(){var e=H(1),t=H(2);P(t&&(i(t.text,[":",","])&&i(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||i(e.text,["get","set"])&&i(t.type,["TK_WORD","TK_RESERVED"]))?i(g,["class","interface"])?l.BlockStatement:l.ObjectLiteral:"TK_OPERATOR"===m&&"=>"===b.last_text?l.BlockStatement:i(m,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===m&&i(b.last_text,["return","throw","import"])?l.ObjectLiteral:l.BlockStatement);var r=!e.comments_before.length&&"}"===e.text,n=r&&"function"===b.last_word&&"TK_END_EXPR"===m;if("expand"===T.brace_style||"none"===T.brace_style&&v.wanted_newline)"TK_OPERATOR"!==m&&(n||"TK_EQUALS"===m||"TK_RESERVED"===m&&G(b.last_text)&&"else"!==b.last_text)?u.space_before_token=!0:D(!1,!0);else{if("collapse-preserve-inline"===T.brace_style){var a=0,s=null;b.inline_frame=!0;do if(a+=1,s=H(a),s.wanted_newline){b.inline_frame=!1;break}while("TK_EOF"!==s.type&&("TK_END_BLOCK"!==s.type||s.opened!==v))}!U(y.mode)||"TK_START_EXPR"!==m&&"TK_COMMA"!==m?"TK_OPERATOR"!==m&&"TK_START_EXPR"!==m&&("TK_START_BLOCK"===m?D():u.space_before_token=!0):(("TK_COMMA"===m||T.space_in_paren)&&(u.space_before_token=!0),"collapse-preserve-inline"===T.brace_style&&("TK_COMMA"===m||"TK_START_EXPR"===m&&b.inline_frame)&&(I(),y.multiline_frame=y.multiline_frame||b.multiline_frame,b.multiline_frame=!1))}N(),B()}function q(){for(;b.mode===l.Statement;)j();var e="TK_START_BLOCK"===m;"expand"===T.brace_style?e||D():e||(b.inline_frame?u.space_before_token=!0:U(b.mode)&&T.keep_array_indentation?(T.keep_array_indentation=!1,D(),T.keep_array_indentation=!0):D()),j(),N()}function Q(){if("TK_RESERVED"===v.type)if(i(v.text,["set","get"])&&b.mode!==l.ObjectLiteral)v.type="TK_WORD";else if(i(v.text,["as","from"])&&!b.import_block)v.type="TK_WORD";else if(b.mode===l.ObjectLiteral){var e=H(1);":"===e.text&&(v.type="TK_WORD")}if(M()||!v.wanted_newline||F(b.mode)||"TK_OPERATOR"===m&&"--"!==b.last_text&&"++"!==b.last_text||"TK_EQUALS"===m||!T.preserve_newlines&&"TK_RESERVED"===m&&i(b.last_text,["var","let","const","set","get"])||D(),b.do_block&&!b.do_while){if("TK_RESERVED"===v.type&&"while"===v.text)return u.space_before_token=!0,N(),u.space_before_token=!0,void(b.do_while=!0);D(),b.do_block=!1}if(b.if_block)if(b.else_block||"TK_RESERVED"!==v.type||"else"!==v.text){for(;b.mode===l.Statement;)j();b.if_block=!1,b.else_block=!1}else b.else_block=!0;if("TK_RESERVED"===v.type&&("case"===v.text||"default"===v.text&&b.in_case_statement))return D(),(b.case_body||T.jslint_happy)&&(L(),b.case_body=!1),N(),b.in_case=!0,void(b.in_case_statement=!0);if("TK_RESERVED"===v.type&&"function"===v.text&&((i(b.last_text,["}",";"])||u.just_added_newline()&&!i(b.last_text,["[","{",":","=",","]))&&(u.just_added_blankline()||v.comments_before.length||(D(),D(!0))),"TK_RESERVED"===m||"TK_WORD"===m?"TK_RESERVED"===m&&i(b.last_text,["get","set","new","return","export","async"])?u.space_before_token=!0:"TK_RESERVED"===m&&"default"===b.last_text&&"export"===g?u.space_before_token=!0:D():"TK_OPERATOR"===m||"="===b.last_text?u.space_before_token=!0:(b.multiline_frame||!F(b.mode)&&!U(b.mode))&&D()),("TK_COMMA"===m||"TK_START_EXPR"===m||"TK_EQUALS"===m||"TK_OPERATOR"===m)&&(W()||I()),"TK_RESERVED"===v.type&&i(v.text,["function","get","set"]))return N(),void(b.last_word=v.text);if(x="NONE","TK_END_BLOCK"===m?"TK_RESERVED"===v.type&&i(v.text,["else","catch","finally","from"])?"expand"===T.brace_style||"end-expand"===T.brace_style||"none"===T.brace_style&&v.wanted_newline?x="NEWLINE":(x="SPACE",u.space_before_token=!0):x="NEWLINE":"TK_SEMICOLON"===m&&b.mode===l.BlockStatement?x="NEWLINE":"TK_SEMICOLON"===m&&F(b.mode)?x="SPACE":"TK_STRING"===m?x="NEWLINE":"TK_RESERVED"===m||"TK_WORD"===m||"*"===b.last_text&&"function"===g?x="SPACE":"TK_START_BLOCK"===m?x=b.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===m&&(u.space_before_token=!0,x="NEWLINE"),"TK_RESERVED"===v.type&&i(v.text,p.line_starters)&&")"!==b.last_text&&(x="else"===b.last_text||"export"===b.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===v.type&&i(v.text,["else","catch","finally"]))if("TK_END_BLOCK"!==m||y.mode!==l.BlockStatement||"expand"===T.brace_style||"end-expand"===T.brace_style||"none"===T.brace_style&&v.wanted_newline)D();else{u.trim(!0);var t=u.current_line;"}"!==t.last()&&D(),u.space_before_token=!0}else"NEWLINE"===x?"TK_RESERVED"===m&&G(b.last_text)?u.space_before_token=!0:"TK_END_EXPR"!==m?"TK_START_EXPR"===m&&"TK_RESERVED"===v.type&&i(v.text,["var","let","const"])||":"===b.last_text||("TK_RESERVED"===v.type&&"if"===v.text&&"else"===b.last_text?u.space_before_token=!0:D()):"TK_RESERVED"===v.type&&i(v.text,p.line_starters)&&")"!==b.last_text&&D():b.multiline_frame&&U(b.mode)&&","===b.last_text&&"}"===g?D():"SPACE"===x&&(u.space_before_token=!0);N(),b.last_word=v.text,"TK_RESERVED"===v.type&&("do"===v.text?b.do_block=!0:"if"===v.text?b.if_block=!0:"import"===v.text?b.import_block=!0:b.import_block&&"TK_RESERVED"===v.type&&"from"===v.text&&(b.import_block=!1))}function J(){for(M()&&(u.space_before_token=!1);b.mode===l.Statement&&!b.if_block&&!b.do_block;)j();b.import_block&&(b.import_block=!1),N()}function ee(){M()?u.space_before_token=!0:"TK_RESERVED"===m||"TK_WORD"===m||b.inline_frame?u.space_before_token=!0:"TK_COMMA"===m||"TK_START_EXPR"===m||"TK_EQUALS"===m||"TK_OPERATOR"===m?W()||I():D(),N()}function te(){M(),b.declaration_statement&&(b.declaration_assignment=!0),u.space_before_token=!0,N(),u.space_before_token=!0}function re(){N(),u.space_before_token=!0,b.declaration_statement?(F(b.parent.mode)&&(b.declaration_assignment=!1),b.declaration_assignment?(b.declaration_assignment=!1,D(!1,!0)):T.comma_first&&I()):b.mode===l.ObjectLiteral||b.mode===l.Statement&&b.parent.mode===l.ObjectLiteral?(b.mode===l.Statement&&j(),b.inline_frame||D()):T.comma_first&&I()}function ie(){if(M(),"TK_RESERVED"===m&&G(b.last_text))return u.space_before_token=!0,void N();if("*"===v.text&&"TK_DOT"===m)return void N();if("::"===v.text)return void N();if("TK_OPERATOR"===m&&i(T.operator_position,f)&&I(),":"===v.text&&b.in_case)return b.case_body=!0,B(),N(),D(),void(b.in_case=!1);var e=!0,t=!0,r=!1,n="*"===v.text&&"TK_RESERVED"===m&&"function"===b.last_text,a=i(v.text,["-","+"])&&(i(m,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||i(b.last_text,p.line_starters)||","===b.last_text);if(":"===v.text?0===b.ternary_depth?e=!1:(b.ternary_depth-=1,r=!0):"?"===v.text&&(b.ternary_depth+=1),!a&&!n&&T.preserve_newlines&&i(v.text,p.positionable_operators)){var s=":"===v.text,h=s&&r,c=s&&!r;switch(T.operator_position){case o.before_newline:return u.space_before_token=!c,N(),(!s||h)&&I(),void(u.space_before_token=!0);case o.after_newline:return u.space_before_token=!0,!s||h?H(1).wanted_newline?D(!1,!0):I():u.space_before_token=!1,N(),void(u.space_before_token=!0);case o.preserve_newline:return c||I(),e=!(u.just_added_newline()||c),u.space_before_token=e,N(),void(u.space_before_token=!0)}}i(v.text,["--","++","!","~"])||a?(e=!1,t=!1,!v.wanted_newline||"--"!==v.text&&"++"!==v.text||D(!1,!0),";"===b.last_text&&F(b.mode)&&(e=!0),"TK_RESERVED"===m?e=!0:"TK_END_EXPR"===m?e=!("]"===b.last_text&&("--"===v.text||"++"===v.text)):"TK_OPERATOR"===m&&(e=i(v.text,["--","-","++","+"])&&i(b.last_text,["--","-","++","+"]),i(v.text,["+","-"])&&i(b.last_text,["--","++"])&&(t=!0)),(b.mode!==l.BlockStatement||b.inline_frame)&&b.mode!==l.Statement||"{"!==b.last_text&&";"!==b.last_text||D()):n&&(e=!1,t=!1),u.space_before_token=u.space_before_token||e,N(),u.space_before_token=t}function ne(){if(u.raw)return u.add_raw_token(v),void(v.directives&&"end"===v.directives.preserve&&(u.raw=T.test_output_raw));if(v.directives)return D(!1,!0),N(),"start"===v.directives.preserve&&(u.raw=!0),void D(!1,!0);if(!r.newline.test(v.text)&&!v.wanted_newline)return u.space_before_token=!0,N(),void(u.space_before_token=!0);var t,e=C(v.text),i=!1,n=!1,s=v.whitespace_before,o=s.length;for(D(!1,!0),e.length>1&&(i=Z(e.slice(1),"*"),n=V(e.slice(1),s)),N(e[0]),t=1;t<e.length;t++)D(!1,!0),i?N(" "+a(e[t])):n&&e[t].length>o?N(e[t].substring(o)):u.add_token(e[t]);D(!1,!0)}function ae(){v.wanted_newline?D(!1,!0):u.trim(!0),u.space_before_token=!0,N(),D(!1,!0)}function se(){M(),"TK_RESERVED"===m&&G(b.last_text)?u.space_before_token=!0:I(")"===b.last_text&&T.break_chained_methods),N()}function oe(){N(),"\n"===v.text[v.text.length-1]&&D()}function fe(){for(;b.mode===l.Statement;)j()}var u,d,p,v,m,g,w,b,y,k,x,E,T,h=[],S="";for(E={TK_START_EXPR:X,TK_END_EXPR:Y,TK_START_BLOCK:$,TK_END_BLOCK:q,TK_WORD:Q,TK_RESERVED:Q,TK_SEMICOLON:J,TK_STRING:ee,TK_EQUALS:te,TK_OPERATOR:ie,TK_COMMA:re,TK_BLOCK_COMMENT:ne,TK_COMMENT:ae,TK_DOT:se,TK_UNKNOWN:oe,TK_EOF:fe},t=t?t:{},T={},void 0!==t.braces_on_own_line&&(T.brace_style=t.braces_on_own_line?"expand":"collapse"),T.brace_style=t.brace_style?t.brace_style:T.brace_style?T.brace_style:"collapse","expand-strict"===T.brace_style&&(T.brace_style="expand"),T.indent_size=t.indent_size?parseInt(t.indent_size,10):4,T.indent_char=t.indent_char?t.indent_char:" ",T.eol=t.eol?t.eol:"auto",T.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,T.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,T.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),T.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,T.space_in_empty_paren=void 0===t.space_in_empty_paren?!1:t.space_in_empty_paren,T.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,T.space_after_anon_function=void 0===t.space_after_anon_function?!1:t.space_after_anon_function,T.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,T.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,T.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,T.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),T.e4x=void 0===t.e4x?!1:t.e4x,T.end_with_newline=void 0===t.end_with_newline?!1:t.end_with_newline,T.comma_first=void 0===t.comma_first?!1:t.comma_first,T.operator_position=s(t.operator_position),T.test_output_raw=void 0===t.test_output_raw?!1:t.test_output_raw,T.jslint_happy&&(T.space_after_anon_function=!0),t.indent_with_tabs&&(T.indent_char="	",T.indent_size=1),"auto"===T.eol&&(T.eol="\n",e&&r.lineBreak.test(e||"")&&(T.eol=e.match(r.lineBreak)[0])),T.eol=T.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),w="";T.indent_size>0;)w+=T.indent_char,T.indent_size-=1;var R=0;if(e&&e.length){for(;" "===e.charAt(R)||"	"===e.charAt(R);)S+=e.charAt(R),R+=1;e=e.substring(R)}m="TK_START_BLOCK",g="",u=new c(w,S),u.raw=T.test_output_raw,k=[],P(l.BlockStatement),this.beautify=function(){function i(){return t=H()}var t,r;for(p=new _(e,T,w),h=p.tokenize(),d=0;i();){for(var n=0;n<t.comments_before.length;n++)O(t.comments_before[n]);O(t),g=b.last_text,m=t.type,b.last_text=t.text,d+=1}return r=u.get_code(),T.end_with_newline&&(r+="\n"),"\n"!==T.eol&&(r=r.replace(/[\n]/g,T.eol)),r};var z=["break","contiue","return","throw"]}function h(e){var t=0,r=-1,i=[],n=!0;this.set_indent=function(i){t=e.baseIndentLength+i*e.indent_length,r=i},this.get_character_count=function(){return t},this.is_empty=function(){return n},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(e){i.push(e),t+=e.length,n=!1},this.pop=function(){var e=null;return n||(e=i.pop(),t-=e.length,n=0===i.length),e},this.remove_indent=function(){r>0&&(r-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)i.pop(),t-=1;n=0===i.length},this.toString=function(){var t="";return this._empty||(r>=0&&(t=e.indent_cache[r]),t+=i.join("")),t}}function c(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var r=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new h(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return 1===this.get_line_number()&&this.just_added_newline()?!1:e||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1},this.get_code=function(){var e=r.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(r.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==l.ForInitializer&&e.mode!==l.Conditional)for(var t=e.start_line_index,i=r.length;i>t;)r[t].remove_indent(),t++},this.trim=function(i){for(i=void 0===i?!1:i,this.current_line.trim(e,t);i&&r.length>1&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=r.length>1?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===r.length)return!0;var e=r[r.length-2];return e.is_empty()}return!1}}function _(e,t){function T(e){if(!e.match(p))return null;var t={};v.lastIndex=0;for(var r=v.exec(e);r;)t[r[1]]=r[2],r=v.exec(e);return t}function S(){var p,v=[];if(w=0,b="",x>=E)return["","TK_EOF"];var S;S=k.length?k[k.length-1]:new d("TK_START_BLOCK","{");var R=e.charAt(x);for(x+=1;i(R,a);){if(r.newline.test(R)?("\n"!==R||"\r"!==e.charAt(x-2))&&(w+=1,v=[]):v.push(R),x>=E)return["","TK_EOF"];R=e.charAt(x),x+=1}if(v.length&&(b=v.join("")),s.test(R)||"."===R&&s.test(e.charAt(x))){var O=!0,C=!0,z=s;for("0"===R&&E>x&&/[XxOoBb]/.test(e.charAt(x))?(O=!1,C=!1,z=/[Bb]/.test(e.charAt(x))?o:/[Oo]/.test(e.charAt(x))?f:l,R+=e.charAt(x),x+=1):"."===R?O=!1:(R="",x-=1);E>x&&z.test(e.charAt(x));)R+=e.charAt(x),x+=1,O&&E>x&&"."===e.charAt(x)?(R+=e.charAt(x),x+=1,O=!1):C&&E>x&&/[Ee]/.test(e.charAt(x))&&(R+=e.charAt(x),x+=1,E>x&&/[+-]/.test(e.charAt(x))&&(R+=e.charAt(x),x+=1),C=!1,O=!1);return[R,"TK_WORD"]}if(r.isIdentifierStart(e.charCodeAt(x-1))){if(E>x)for(;r.isIdentifierChar(e.charCodeAt(x))&&(R+=e.charAt(x),x+=1,x!==E););return"TK_DOT"===S.type||"TK_RESERVED"===S.type&&i(S.text,["set","get"])||!i(R,h)?[R,"TK_WORD"]:"in"===R?[R,"TK_OPERATOR"]:[R,"TK_RESERVED"]}if("("===R||"["===R)return[R,"TK_START_EXPR"];if(")"===R||"]"===R)return[R,"TK_END_EXPR"];if("{"===R)return[R,"TK_START_BLOCK"];if("}"===R)return[R,"TK_END_BLOCK"];if(";"===R)return[R,"TK_SEMICOLON"];if("/"===R){var D,I="";if("*"===e.charAt(x)){x+=1,c.lastIndex=x,D=c.exec(e),I="/*"+D[0],x+=D[0].length;var K=T(I);return K&&"start"===K.ignore&&(m.lastIndex=x,D=m.exec(e),I+=D[0],x+=D[0].length),I=I.replace(r.allLineBreaks,"\n"),[I,"TK_BLOCK_COMMENT",K]}if("/"===e.charAt(x))return x+=1,_.lastIndex=x,D=_.exec(e),I="//"+D[0],x+=D[0].length,[I,"TK_COMMENT"]}var N=/^<([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/;if("`"===R||"'"===R||'"'===R||("/"===R||t.e4x&&"<"===R&&e.slice(x-1).match(N))&&("TK_RESERVED"===S.type&&i(S.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===S.type&&")"===S.text&&S.parent&&"TK_RESERVED"===S.parent.type&&i(S.parent.text,["if","while","for"])||i(S.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var B=R,L=!1,P=!1;if(p=R,"/"===B)for(var U=!1;E>x&&(L||U||e.charAt(x)!==B)&&!r.newline.test(e.charAt(x));)p+=e.charAt(x),L?L=!1:(L="\\"===e.charAt(x),"["===e.charAt(x)?U=!0:"]"===e.charAt(x)&&(U=!1)),x+=1;else if(t.e4x&&"<"===B){var F=/<(\/?)([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/g,j=e.slice(x-1),W=F.exec(j);if(W&&0===W.index){for(var M=W[2],Z=0;W;){var V=!!W[1],G=W[2],H=!!W[W.length-1]||"![CDATA["===G.slice(0,8);if(G!==M||H||(V?--Z:++Z),0>=Z)break;W=F.exec(j)}var X=W?W.index+W[0].length:j.length;return j=j.slice(0,X),x+=X-1,j=j.replace(r.allLineBreaks,"\n"),[j,"TK_STRING"]}}else{var Y=function(t,i,n){for(var a;E>x&&(a=e.charAt(x),L||a!==t&&(i||!r.newline.test(a)));)(L||i)&&r.newline.test(a)?("\r"===a&&"\n"===e.charAt(x+1)&&(x+=1,a=e.charAt(x)),p+="\n"):p+=a,L?(("x"===a||"u"===a)&&(P=!0),L=!1):L="\\"===a,x+=1,n&&-1!==p.indexOf(n,p.length-n.length)&&("`"===t?Y("}",i,"`"):Y("`",i,"${"))};"`"===B?Y("`",!0,"${"):Y(B)}if(P&&t.unescape_strings&&(p=A(p)),E>x&&e.charAt(x)===B&&(p+=B,x+=1,"/"===B))for(;E>x&&r.isIdentifierStart(e.charCodeAt(x));)p+=e.charAt(x),x+=1;return[p,"TK_STRING"]}if("#"===R){if(0===k.length&&"!"===e.charAt(x)){for(p=R;E>x&&"\n"!==R;)R=e.charAt(x),p+=R,x+=1;return[n(p)+"\n","TK_UNKNOWN"]}var $="#";if(E>x&&s.test(e.charAt(x))){do R=e.charAt(x),$+=R,x+=1;while(E>x&&"#"!==R&&"="!==R);return"#"===R||("["===e.charAt(x)&&"]"===e.charAt(x+1)?($+="[]",x+=2):"{"===e.charAt(x)&&"}"===e.charAt(x+1)&&($+="{}",x+=2)),[$,"TK_WORD"]}}if("<"===R&&("?"===e.charAt(x)||"%"===e.charAt(x))){g.lastIndex=x-1;var q=g.exec(e);if(q)return R=q[0],x+=R.length-1,R=R.replace(r.allLineBreaks,"\n"),[R,"TK_STRING"]}if("<"===R&&"<!--"===e.substring(x-1,x+3)){for(x+=3,R="<!--";!r.newline.test(e.charAt(x))&&E>x;)R+=e.charAt(x),x++;return y=!0,[R,"TK_COMMENT"]}if("-"===R&&y&&"-->"===e.substring(x-1,x+2))return y=!1,x+=2,["-->","TK_COMMENT"];if("."===R)return[R,"TK_DOT"];if(i(R,u)){for(;E>x&&i(R+e.charAt(x),u)&&(R+=e.charAt(x),x+=1,!(x>=E)););return","===R?[R,"TK_COMMA"]:"="===R?[R,"TK_EQUALS"]:[R,"TK_OPERATOR"]}return[R,"TK_UNKNOWN"]}function A(e){for(var s,t=!1,r="",i=0,n="",a=0;t||i<e.length;)if(s=e.charAt(i),i++,t){if(t=!1,"x"===s)n=e.substr(i,2),i+=2;else{if("u"!==s){r+="\\"+s;continue}n=e.substr(i,4),i+=4}if(!n.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(n,16),a>=0&&32>a){r+="x"===s?"\\x"+n:"\\u"+n;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===s&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===s?t=!0:r+=s;return r}var a="\n\r	 ".split(""),s=/[0-9]/,o=/[01]/,f=/[01234567]/,l=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var u=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var w,b,y,k,x,E,h=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),c=/([\s\S]*?)((?:\*\/)|$)/g,_=/([^\n\r\u2028\u2029]*)/g,p=/\/\* beautify( \w+[:]\w+)+ \*\//g,v=/ (\w+)[:](\w+)/g,m=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,g=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){E=e.length,x=0,y=!1,k=[];for(var t,r,i,n=null,a=[],s=[];!r||"TK_EOF"!==r.type;){for(i=S(),t=new d(i[1],i[0],w,b);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=i[2]),s.push(t),i=S(),t=new d(i[1],i[0],w,b);s.length&&(t.comments_before=s,s=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=r,a.push(n),n=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&n&&("]"===t.text&&"["===n.text||")"===t.text&&"("===n.text||"}"===t.text&&"{"===n.text)&&(t.parent=n.parent,t.opened=n,n=a.pop()),k.push(t),r=t}return k}}var r={};!function(e){var r="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",i="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",n=new RegExp("["+r+"]"),a=new RegExp("["+r+i+"]");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(e){return 65>e?36===e||64===e:91>e?!0:97>e?95===e:123>e?!0:e>=170&&n.test(String.fromCharCode(e))},e.isIdentifierChar=function(e){return 48>e?36===e:58>e?!0:65>e?!1:91>e?!0:97>e?95===e:123>e?!0:e>=170&&a.test(String.fromCharCode(e))}}(r);var o={before_newline:"before-newline",after_newline:"after-newline",preserve_newline:"preserve-newline"},f=[o.before_newline,o.preserve_newline],l={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},d=function(e,t,r,i,n){this.type=e,this.text=t,this.comments_before=[],this.newlines=r||0,this.wanted_newline=r>0,this.whitespace_before=i||"",this.parent=n||null,this.opened=null,this.directives=null},p=new u(e,t);return p.beautify()}"function"==typeof define&&define.amd?define([],function(){return{js_beautify:e}}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window?window.js_beautify=e:"undefined"!=typeof global&&(global.js_beautify=e)}();
